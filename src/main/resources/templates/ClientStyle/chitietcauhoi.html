<!DOCTYPE html>
<html lang="en">

<head th:replace="/ClientStyle/common/head::head">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="stylesheet" href="assets/css/style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css"
        integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
    <link rel="stylesheet" href="assets/css/chosen.css">
    <script src="https://use.fontawesome.com/697d84ba14.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.1.js"
        integrity="sha256-3zlB5s2uwoUzrXK3BT7AX3FyvojsraNFxCc2vC/7pNI=" crossorigin="anonymous"></script>
    <!-- <script src="assets/js/mutiple-select-js.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.1.js" integrity="sha256-3zlB5s2uwoUzrXK3BT7AX3FyvojsraNFxCc2vC/7pNI="
    crossorigin="anonymous"></script>
  <link href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.1/css/bootstrap-select.css" />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.1/js/bootstrap-select.min.js"></script>
  <script src="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script> -->
    <!-- <script src="//code.jquery.com/jquery-1.11.1.min.js"></script> -->
    <title>Document</title>
</head>

<body>
    <header th:replace="/ClientStyle/common/header::header">
        <div class="header-search">
            <div class="container">
                <div class="row">
                    <div class="col-md-3">
                        <div class="logo">
                            <img src="assets/image/logo/logo4.png" alt="">
                        </div>

                    </div>
                    <div class="col-md-8">
                        <div class="search">
                            <form action="" method="get" class="search-box">
                                <input type="text" placeholder="Nhập Tên Cây Dược Liệu Cần Tìm">
                                <button type="submit"><i class="fa fa-search" aria-hidden="true"></i></button>
                            </form>
                            <div class="search-voice"><a href="#"><i class="fa fa-microphone"
                                        aria-hidden="true"></i></a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="header">
            <div class="container">
                <div class="row">
                    <div class="col-md-8">
                        <ul>
                            <li class="title"> <a href="#">Trang Chủ</a> </li>
                            <li class="title"> <a href="#">Tra Cứu Dược Liệu</a>

                            </li>
                            <li class="title"> <a href="#">Giới Thiệu</a></li>
                            <li class="title"><a href="#">Bài Viết</a></li>
                        </ul>
                    </div>
                    <div class="col-md-4 d-flex justify-content-end">
                        <ul>
                            <li class="title"><a href="#">Đăng Nhập</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <div class="container">
        <div class="row">
            <ol class="breadcrumb" style="margin-top:10px;">
                <li class="breadcrumb-item"><a href="#">Home</a></li>
                <li class="breadcrumb-item"><a href="#">Library</a></li>
                <li class="breadcrumb-item active">Data</li>
            </ol>
        </div>
    </div>
    <div class="detail-question">
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <p class="detail-question-name" th:text ="${cauhoi.getTencauhoi}">Hôi Chân</p>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <div class="detail-question-content" th:utext ="${cauhoi.getNoidungcauhoi()}">
                    	
                    </div>
                </div>
            </div>
            <div class="row ">
                <div class="col-md-12 detail-question-attach">
                    <img th:src="@{'/ClientStyle/assets/image/HinhCauHoi/'+${cauhoi.getHinh().getTenhinh()} }" alt="">
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <p th:text="${cauhoi.timeStampToDate()}">12/12/2022 11:30</p>
                </div>
            </div>
        </div>
    </div>
    <div class="answer-list">
        <div class="container">
            <div th:each="object:${cauhoi.getTraloi()}"  class="row">
                <div class="answer-box col-md-12">
                    <div class="answer-info">
                    	<input type ="hidden" class="ma"  th:value="${object.getMacautraloi()}">
                        <span class="answer-info-name" th:text="${object.getSdt().getHovaten()}">5 Nổ</span>
                        <span class="answer-info-name" th:text="${object.getSdt().getMaloai().getTenloai()}"></span>
                        <span class="answer-info-date" th:text="${object.timeStampToDate()}">11/12/2020 12:30</span>
                        <span class="answer-info-report"> <a href="#" data-toggle="modal" data-target="#report" class="baocao">BáoCáo</a></span>
                    </div>
                    <div class="answer-content" th:utext ="${object.getNoidungcautraloi()}">
                    
                    </div>
                </div>
            </div>
            <div class="row">
                <form class="col-md-8" th:action ="@{/TraCuuCayDuocLieu/Tra-Loi-Cau-Hoi}" method ="POST">
                    <label for="">Nhập Vào Câu Trả Lời Của Bạn</label>
                    <input type="hidden" name ="idcauhoi" th:value ="${cauhoi.getMacauhoi()}">
                    <textarea class="" name="cautraloi" id="editor1" rows="10" cols="100">
	
                    </textarea>
                    <button class="btn btn-success" style="margin-top:5px;">Trả Lời</button>
                </form>
            </div>
            <!-- <div class="row">
                <div class="col-md-12 answer-box">
                    <div class="answer-info">
                        <span class="answer-info-name">5 Nổ</span>
                        <span class="answer-info-date">11/12/2020 12:30</span>
                    </div>
                    <div class="answer-content">
                        <p>
                            Lorem ipsum dolor sit amet consectetur, adipisicing elit. Voluptatum molestias dolorum
                            veniam libero voluptatem quis quidem explicabo quisquam quae beatae, non eligendi aliquam!
                            Quaerat iste fugiat sequi veniam. Ad, quidem.
                        </p>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12 answer-box">
                    <div class="answer-info">
                        <span class="answer-info-name">5 Nổ</span>
                        <span class="answer-info-name">Admin</span>
                        <span class="answer-info-date">11/12/2020 12:30</span>
                        <span class="answer-info-report"> <a href="#" data-toggle="modal" data-target="#report">Báo
                                Cáo</a></span>
                    </div>
                    <div class="answer-content">
                        <p>
                            Lorem ipsum dolor sit amet consectetur, adipisicing elit. Voluptatum molestias dolorum
                            veniam libero voluptatem quis quidem explicabo quisquam quae beatae, non eligendi aliquam!
                            Quaerat iste fugiat sequi veniam. Ad, quidem.
                        </p>
                    </div>
                </div>
            </div>
             -->
        </div>
    </div>

    <div id="space"></div>
    <div id="footer" th:replace="/ClientStyle/common/footer::footer">
        <div class="container">
            <div class="row d-flex justify-content-center">
                <p id="footer-content">Nội dung của website này chỉ mang tính chất tham khảo. Vui lòng hỏi ý kiến của
                    bác sĩ</p>
            </div>
        </div>
    </div>

    <!-- Model -->
    <!-- Modal -->
    <!-- Báo Cáo -->
    <form th:action="@{/TraCuuCayDuocLieu/Bao-Cao}" method="POST" class="modal fade" id="report" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
        aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLongTitle">Báo Cáo Câu Trả Lời</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                     	<input type="hidden" name ="idcauhoi" th:value ="${cauhoi.getMacauhoi()}">
                    	<input type ="hidden" name="idcautraloi" id="idcautraloi" value="">
                        <textarea name="noidungbaocao" id="" cols="" style="width:100%;" rows="10"
                            placeholder="Nhập vào nội dung báo cáo của bạn: Ví dụ:Ngôn ngữ thô tục, kích động bạo lực,.." required></textarea>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Hủy</button>
                    <button type="submit" class="btn btn-primary" id="demoNotify">Báo Cáo</button>
                </div>
            </div>
        </div>
    </form>
    <!--  -->


</body>
<script>
	var ma =document.querySelectorAll(".ma");
	var baocao =document.querySelectorAll(".baocao");
	var idcautraloi =document.getElementById("idcautraloi");
	for (let i =0;i<baocao.length; i++) {
		baocao[i].addEventListener("click",function () {
		    $("#idcautraloi").val(ma[i].value);
		})
	}
</script>
<script>
    var main_image = document.getElementsByClassName("main-image");
    var thumbnail = document.getElementsByClassName("thumbnail");
    for (var i = 0; i < thumbnail.length; i++) {
        thumbnail[i].addEventListener("click", function () {
            main_image[0].src = this.src;
            // this.classList.add("active-image");
        })
    }

    var recommentto = document.querySelectorAll(".repcomment-to");
    var repcomment = document.querySelectorAll(".repcomment");
    console.log(repcomment);
    for (let i = 0; i < recommentto.length; i++) {
        recommentto[i].addEventListener("click", function () {
            repcomment[i].style.display = "block";
        })
    }

    var btnmodal = document.getElementById("button-modal");
    var modal = document.getElementById("modal");
    btnmodal.addEventListener("click", function () {
        modal.style.display = "flex";
    })

    var close = document.getElementById("close");
    close.addEventListener("click", function () {
        modal.style.display = "none";
    })

    function readURL(input) {
        if (input.files && input.files[0]) {

            var reader = new FileReader();

            reader.onload = function (e) {
                $('.image-upload-wrap').hide();

                $('.file-upload-image').attr('src', e.target.result);
                $('.file-upload-content').show();

                $('.image-title').html(input.files[0].name);
            };

            reader.readAsDataURL(input.files[0]);

        } else {
            removeUpload();
        }
    }

    function removeUpload() {
        $('.file-upload-input').replaceWith($('.file-upload-input').clone());
        $('.file-upload-content').hide();
        $('.image-upload-wrap').show();
        $('#predict').hide();
        $(".loader-frame").hide();
        $('.predict-frame').hide();
    }
    $('.image-upload-wrap').bind('dragover', function () {
        $('.image-upload-wrap').addClass('image-dropping');
    });
    $('.image-upload-wrap').bind('dragleave', function () {
        $('.image-upload-wrap').removeClass('image-dropping');
    });

</script>
<script>
    CKEDITOR.replace('editor1');
</script>
<script th:inline="javascript">
    let a = "Cây Dược Liệu"
    var check = /*[[${result_tl}]]*/"";
		if (check == "success") {
			$.notify({
				// title: "T Thành Công: ",
				message: "Trả Lời Thành Công",
				icon: 'fa fa-check'
			}, {
				type: "success"
			});

		}
		else if (check == "error") {
			$.notify({
				// title: "T Thành Công: ",
				message: "Vui Lòng Nhập Nội Dung Câu Trả Lời",
				icon: 'fa fa-exclamation-triangle'
			}, {
				type: "danger"
			});
		}
		 var check1 = /*[[${result_bc}]]*/"";
			if (check1 == "success") {
				$.notify({
					// title: "T Thành Công: ",
					message: "Đã Báo Cáo",
					icon: 'fa fa-check'
				}, {
					type: "success"
				});

			}
			else if (check1 == "error") {
				$.notify({
					// title: "T Thành Công: ",
					message: "Vui Lòng Nhập Nội Dung Báo Cáo",
					icon: 'fa fa-exclamation-triangle'
				}, {
					type: "danger"
				});
			}
</script>
<script>
	var editor = CKEDITOR.replace('editor1');
	editor.on( 'required', function( evt ) {
	editor.showNotification( 'Vui Lòng Nhập Câu Trả Lời Của Bạn', 'warning' );
	evt.cancel();
	} );
</script>

</html>